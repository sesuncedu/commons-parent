              Apache Commons Parent 29 RELEASE NOTES

The Commons Parent team is pleased to announce the release of commons-parent-29

The Apache Commons Parent Pom provides common settings for all Apache Commons components.

Update plugins

Changes in this version include:

Changes:
o                   removed cobertura-maven-plugin
                    added jacoco-maven-plugin          0.6.2.201302030002
                    maven-surefire-plugin              2.13 -> 2.14.1
                    maven-surefire-report-plugin       2.13 -> 2.14.1

The main change is the replacement of cobertura with JaCoCo for test
coverage analysis.  The former is not maintained anymore, has numerous
bugs and is extremely slow in some situations (typically generating
coverage reports for [math] took about 9 hours whereas standard tests
run in about 10 minutes). One important implication is that since
JaCoCo relies on setting an agent, it is triggered only if JDK used to
run the tests is at least Java 1.5 (this is automatically detected),
and it changes the argument line of surefire tests.  If a component
also needs to adapt the surefire command line, it must add the
property ${argLine} to the argument line in order to preserve JaCoCo
settings. An example for this is Apache Commons IO, where the
maven-surefire-plugin setting must read as (note the use of the
${argLine} property):

    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
          <forkMode>pertest</forkMode>
          <!-- limit memory size see IO-161 -->
          <!-- the ${argLine} preserves jacoco agent settings (see (see https://github.com/jacoco/jacoco/issues/44) -->
          <argLine>-Xmx25M ${argLine}</argLine>
          ...
        </configuration>
      </plugin>
      ...
    </plugins>
 

Historical list of changes: http://commons.apache.org/changes-report.html

For complete information on Commons Parent, including instructions on how to submit bug reports,
patches, or suggestions for improvement, see the Apache Commons Parent website:

http://commons.apache.org/
